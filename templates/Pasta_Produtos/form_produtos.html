<form class="c-form" enctype="multipart/form-data"
      {% if produto %}
          action="{{url_for('produto.atualizar_produto', produto_codigo=produto.codigo)}}"
          method="POST"
          c-swap="#produto-{{produto.codigo}}"
      {% else %}
          action="{{url_for('produto.inserir_produtos')}}"
          method="POST"
          c-append="#lista-produtos"
      {% endif %}
      c-reload-container="true">
    
    <div class="row">
        <div class="col">
            <label class="form-label">Nome</label>
            <input type="text" class="form-control" name="nome" {% if produto %} value="{{produto.nome}}" {% endif %}>
        </div>
        <div class="col">
            <label class="form-label">Detalhes</label>
            <input type="text" class="form-control" name="detalhes" {% if produto %} value="{{produto.detalhes}}" {% endif %}>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <label class="form-label">Categoria</label>
            <select class="form-control" name="codcategoria">
                {% for categoria in categorias %}
                    <option value="{{categoria.codigo}}" {% if produto and produto.codcategoria == categoria.codigo %} selected {% endif %}>{{categoria.nome}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col">
            <label class="form-label">Data de cadastro</label>
            <input type="date" class="form-control" name="dataCadastro" {% if produto %} value="{{produto.dataCadastro}}" {% endif %}>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <label class="form-label">MÃ­nimo Estoque</label>
            <input type="number" class="form-control" name="minimoEstoque" {% if produto %} value="{{produto.minimoEstoque}}" {% endif %}>
        </div>
        <div class="col">
            <label class="form-label">Atual Estoque</label>
            <input type="number" class="form-control" name="atualEstoque" {% if produto %} value="{{produto.atualEstoque}}" {% endif %}>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <label class="form-label">Custo do Produto em R$</label>
            <input type="number" step="0.01" class="form-control" name="custoProduto" {% if produto %} value="{{produto.custoProduto}}" {% endif %}>
        </div>
        <div class="col">
            <label class="form-label">Valor de Venda em R$</label>
            <input type="number" step="0.01" class="form-control" name="vendaValor" {% if produto %} value="{{produto.vendaValor}}" {% endif %}>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <label class="form-label">Fornecedor</label>
            <select class="form-control" name="codFornecedor">
                {% for fornecedor in fornecedores %}
                    <option value="{{fornecedor.codigo}}" {% if produto and produto.codFornecedor == fornecedor.codigo %} selected {% endif %}>{{fornecedor.nome}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col">
            <label class="form-label">Imagem do produto</label>
            <input class="form-control" type="file" name="imagem_produto" id="imagem_produto">
        </div>
    </div>
    <br>
    <button type="submit" class="btn btn-primary">
        {% if produto %} Salvar {% else %} Criar {% endif %}
    </button>
</form>
